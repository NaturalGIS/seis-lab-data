{% import "macros.html" as macros %}
<form>
    {% for name_field in form.name %}
        {{ macros.render_form_field(name_field, "name-") }}
    {% endfor %}

    {% for description_field in form.description %}
        {{ macros.render_form_field(description_field, "description-") }}
    {% endfor %}

    {{ macros.render_form_field(form.relative_path) }}

    <div class="row mb-3">
        <div class="col-sm-10 offset-sm-2">
            <button
                    type="submit"
                    class="btn btn-primary"
                    data-on-click="@post('{{ url_for('survey_missions:detail', survey_mission_id=survey_mission.id) }}', {
                            contentType: 'form',
                            headers: {'X-CSRFToken': '{{ form.csrf_token.current_token }}'}
                        })"
                    data-indicator="posting"
                    data-attr-disabled="$posting"
                    data-text="$posting ? '{{ _('Creating survey record...') }}' : '{{ _('Create survey record') }}'"
            >
            </button>
            <div class="spinner-border spinner-border-sm ms-3" role="status" aria-hidden="true"
                 data-attr-hidden="!$posting">
                <span class="visually-hidden">{{ _("Loading...") }}</span>
            </div>
        </div>
    </div>
</form>
